## Install

### Install using Vagrant

#### Install Virtual Box

https://www.virtualbox.org/

#### Install Vagrant

http://www.vagrantup.com/

#### Setup vagrant

In the project root run ...

    vagrant up
 
#### Run Yaffe in Vagrant

    vagrant ssh
    cd /vagrant
    yaafe.py -r 11025 --resample -f "cfa: ContinuousFrequencyActivation" audio/test.mp3

#### Check results

    less audio/test.mp3.cfa.csv

### Install directly on Ubuntu

Only use this if you are not using the Vagrant method

#### YAAFE

    sudo apt-get update

    sudo ./scripts/install-yaffe.sh

    # Add these to ~/.bash_profile so they are set in every new terminal
    export PATH=$PATH:/usr/local/bin
    export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/lib
    export PYTHONPATH=$PYTHONPATH:/usr/local/python_packages
    export YAAFE_PATH=/usr/local/yaafe_extensions

    sudo ./scripts/install-yaffe-cba-extension.sh

## Adding timecodes with ruby

    sudo apt-get install ruby1.9
    sudo gem install json

    ruby ./scripts/add_times_to_cfa_output.rb

## Visualizing results in web page

Install simple ruby web server software:

     sudo gem install rack 
     rackup server.ru

     # visit http://localhost:9292/index.html

## TODO

If these thngs can be done over the next week I think it will be the beginning 
of a web based system for visualizing the speech / music boundaries. From this
we can go in other directions, either improving the CFA output, or adding a 
database and user interface to manually edit it and generate a large test data
set very quickly.

* Generate JSON segments of music / speech from output of ruby script
* Add segments to waveform view by loading JSON and parsing in JS
* Edit index.html look better
* Work on getting the data correct, by offseting the times to the center of the
  CFA frame
* Can we write a simple script to do these things:
  - Given any audio file in MP3
  - Generate waveform .dat file
  - Generate raw CFA data
  - Generate JSON file from CFA data
* Can we ammend the web page to be dynamic and load in the data and mp3 from
  the files generated by the above script?
